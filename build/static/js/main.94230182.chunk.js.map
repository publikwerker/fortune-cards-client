{"version":3,"sources":["actions/index.js","config.js","actions/utils.js","actions/protected.js","local-storage.js","validators.js","components/register.js","components/login.js","components/query.js","components/memberButton.js","components/header.js","components/card.js","components/spread.js","components/clearButton.js","components/readingHistory.js","components/footer.js","App.js","reducers/index.js","reducers/auth.js","components/store.js","serviceWorker.js","index.js"],"names":["toggle_signin","type","API_BASE_URL","process","REACT_APP_API_BASE_URL","normalizeResponseErrors","res","ok","headers","has","get","startsWith","json","then","err","Promise","reject","code","status","message","statusText","SET_AUTH_TOKEN","CLEAR_AUTH","AUTH_REQUEST","AUTH_SUCCESS","AUTH_ERROR","FETCH_HISTORY_REQUEST","FETCH_HISTORY_SUCCESS","FETCH_HISTORY_ERROR","storeAuthInfo","authToken","dispatch","currentUser","jwtDecode","user","username","setAuthToken","authSuccess","localStorage","setItem","e","saveAuthToken","Login","password","console","log","fetch","concat","method","Content-Type","body","JSON","stringify","_ref","catch","error","SubmissionError","_error","required","value","undefined","nonEmpty","trim","Register","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","handleSubmit","props","react_default","a","createElement","className","onSubmit","Field","component","name","label","validators","validate","disabled","pristine","submitting","React","Component","registerForm","reduxForm","form","values","onSubmitFail","errors","focus","connect","state","login","tarot","LoginWindow","aria-live","signIn","components_register","id","onClick","loginForm","Query","placeholder","min","max","queryForm","trim_deck","spreadNumber","textQuery","deck","MemberButton","_this","href","auth","Header","memberButton","searchTerm","CardDescriptions","desc","CardImages","facing","classes","src","img","alt","cardsDealt","slice","theHeading","length","yourReading","cardImages","map","card","cardDescriptions","index","historyForm","saveToHistory","ClearButton","ReadingHistory","readingHistory","Footer","App","_Component","loadDeck","data","setState","BrowserRouter","components_header","components_login","src_components_query","src_components_spread","components_clearButton","shuffle","require","initialState","history","loading","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","formReducer","action","assign","newDeck","Math","floor","random","toConsumableArray","shuffledDeck","signin","createStore","applyMiddleware","thunk","Boolean","location","hostname","match","ReactDOM","render","es","store","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ycAwCaA,UAAgB,iBAAO,CAClCC,KAF2B,mBCvChBC,EAAeC,8CAAYC,wBAA0B,6ECArDC,EAA0B,SAAAC,GACrC,OAAKA,EAAIC,GAYFD,EAVHA,EAAIE,QAAQC,IAAI,iBAChBH,EAAIE,QAAQE,IAAI,gBAAgBC,WAAW,oBAEpCL,EAAIM,OAAOC,KAAK,SAAAC,GAAG,OAAEC,QAAQC,OAAOF,KAEtCC,QAAQC,OAAO,CACpBC,KAAMX,EAAIY,OACVC,QAASb,EAAIc,cCANC,EAAiB,iBAMjBC,EAAa,aAKbC,EAAe,eAKfC,EAAe,eAMfC,EAAa,aAMbC,EAAwB,gBAKxBC,EAAwB,wBAMxBC,EAAsB,sBAQ7BC,EAAgB,SAACC,EAAWC,GAChC,IACMC,EADeC,IAAUH,GACGI,KAAKC,SACvCJ,EAjD0B,SAAAD,GAAS,MAAK,CACtC7B,KAAMoB,EACNS,aA+COM,CAAaN,IACtBC,EAlCyB,SAAAC,GAAW,MAAK,CACvC/B,KAAMuB,EACNQ,eAgCOK,CAAYL,ICzDM,SAAAF,GAC3B,IACIQ,aAAaC,QAAQ,YAAaT,GACpC,MAAOU,KDuDTC,CAAcX,IAmCHY,EAAQ,SAACP,EAAUQ,GAAX,OAAwB,SAAAZ,GAG3C,OAFAa,QAAQC,IAAI,aACZd,EA7EgC,CAC9B9B,KAAMsB,IA8ENuB,MAAK,GAAAC,OAAI7C,EAAJ,eAA+B,CAClC8C,OAAQ,OACRxC,QAAS,CACPyC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBjB,WACAQ,eAGH9B,KAAK,SAAAP,GAAG,OAAID,EAAwBC,KACpCO,KAAK,SAAAP,GAAG,OAAIA,EAAIM,SAChBC,KAAK,SAAAwC,GAAiB,IAAfvB,EAAeuB,EAAfvB,UACNc,QAAQC,IAAIf,GACZC,EHhF6B,CACjC9B,KAFyB,iBGkFrB4B,EAAcC,EAAWC,KAC1BuB,MAAM,SAAAxC,GAAO,IAENK,EACK,MAFML,EAATG,KAGF,iCACA,oCAEN,OADAc,EA1F6B,CAC/B9B,KAAMwB,EACN8B,MAwFqBzC,IACZC,QAAQC,OACb,IAAIwC,IAAgB,CAClBC,OAAQtC,SE7HLuC,UAAW,SAAAC,GAAK,OAAKA,OAAQC,EAAY,aACzCC,EAAW,SAAAF,GAAK,MACR,KAAjBA,EAAMG,YAAgBF,EAAY,mBCOzBG,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,SAAAf,MAAA,WAEI,IACOgB,EAAcR,KAAKS,MAAnBD,aACP,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACTH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBACdC,SAAUN,QALhBpB,EAOIsB,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SAAjB,aACAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,WACLC,MAAM,WACNpF,KAAK,OACL+E,UAAU,WACVM,WAAY,CAAC5B,EAAUG,KACvBgB,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SAAjB,YACAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,WACLnF,KAAK,WACL+E,UAAU,WACVO,SAAU,CAAC7B,EAAUG,KACrBgB,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,UAAQK,KAAK,gBACXnF,KAAK,SACL+E,UAAU,gBACVQ,SAAUrB,KAAKS,MAAMa,UAAYtB,KAAKS,MAAMc,YAH9C,cAxBZ3B,EAAA,CAA8B4B,IAAMC,WAmC9BC,EAAeC,YAAU,CAC7BC,KAAM,WACNd,SAAU,SAACe,EAAQjE,GAClB,OAAOA,GHkBiBI,EGlBG6D,EAAO7D,SHkBAQ,EGlBUqD,EAAOrD,SHkBJ,SAACZ,GAEjD,OADAa,QAAQC,IAAI,kBAEVC,MAAK,GAAAC,OAAI7C,EAAJ,UAA0B,CAC7B8C,OAAQ,OACRxC,QAAS,CACPyC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBjB,WACAQ,eAIL9B,KAAK,SAAAP,GAAG,OAAID,EAAwBC,KACpCO,KAAK,SAAAP,GAAG,OAAIA,EAAIM,SAChBC,KAAK,SAAAP,GAEJ,OADAsC,QAAQC,IAAIvC,GACLA,IAERgD,MAAM,SAAAxC,GAAO,IACJG,EAASH,EAATG,KACR,OAAOF,QAAQC,OACb,IAAIwC,IAAgB,CAClBC,OAAQxC,UGzCZJ,KAAK,kBAAMkB,EAASW,EAAMsD,EAAO7D,SAAU6D,EAAOrD,aAClD9B,KAAK,kBAAMkB,EAAS/B,OHgBE,IAACmC,EAAUQ,GGdnCsD,aAAc,SAACC,EAAQnE,GAAT,OAAsBA,EAASoE,YAAM,QAAS,eAPzCL,CAQlB/B,GAQYqC,kBANf,SAAyBC,GACvB,MAAO,CACLC,MAAOD,EAAME,MAAMD,QAIRF,CAAyBP,UC9CjC,IAAMW,EAAb,SAAAxC,GAAA,SAAAwC,IAAA,OAAAvC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqC,GAAAvC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuC,GAAAlC,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAuC,EAAAxC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAuC,EAAA,EAAA9B,IAAA,SAAAf,MAAA,WAEI,IAAIJ,EACGxB,EAAUoC,KAAKS,MAAf7C,SAFA,IAOA4C,EAAeR,KAAKS,MAApBD,aAQP,OAPIR,KAAKS,MAAMrB,QACbA,EACEsB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAayB,YAAU,UACnCtC,KAAKS,MAAMrB,SAIO,IAArBY,KAAKS,MAAM0B,OACa,IAAtBnC,KAAKS,MAAM8B,OAEX7B,EAAAC,EAAAC,cAAC4B,EAAD,MAIF9B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,QACEC,UAAU,iBACVC,SAAUN,GACTpB,EACHsB,EAAAC,EAAAC,cAAA,UACEK,KAAK,iBACLwB,GAAG,iBACH3G,KAAK,SACL+E,UAAU,iBACV6B,QA7BR,WACEjE,QAAQC,IAAI,cACZd,EAAS/B,OAsBL,YAOA6E,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SAAjB,aACAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,WACLC,MAAM,WACNpF,KAAK,OACL+E,UAAU,WACVM,WAAY,CAAC5B,EAAUG,KACvBgB,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SAAjB,YACAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,WACLnF,KAAK,WACL+E,UAAU,WACVO,SAAU,CAAC7B,EAAUG,KACrBgB,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,UACEK,KAAK,eACLwB,GAAG,eACH3G,KAAK,SACL+E,UAAU,eACVQ,SAAUrB,KAAKS,MAAMa,UAAYtB,KAAKS,MAAMc,YAL9C,aAWSb,EAAAC,EAAAC,cAAA,gBA7DnByB,EAAA,CAAiCb,IAAMC,WAiE1BkB,EAAYhB,YAAU,CACjCC,KAAM,QACNd,SAxEF,SAAgBe,EAAQjE,GAEtB,OADAa,QAAQC,IAAI,gBACLd,EAASW,EAAMsD,EAAO7D,SAAU6D,EAAOrD,YAuE9CsD,aAAc,SAACC,EAAQnE,GAAT,OAAsBA,EAASoE,YAAM,QAAS,eAHrCL,CAKvBU,GASaJ,kBAPf,SAAyBC,GACvB,MAAO,CACLC,MAAOD,EAAME,MAAMD,MACnBI,OAAQL,EAAME,MAAMG,SAITN,CAAyBU,GCvF3BC,UAAb,SAAA/C,GAAA,SAAA+C,IAAA,OAAA9C,OAAAC,EAAA,EAAAD,CAAAE,KAAA4C,GAAA9C,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8C,GAAAzC,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA8C,EAAA/C,GAAAC,OAAAQ,EAAA,EAAAR,CAAA8C,EAAA,EAAArC,IAAA,SAAAf,MAAA,WAEI,IAAyB,IAArBQ,KAAKS,MAAM0B,MAAe,KACpB3B,EAAiBR,KAAKS,MAAtBD,aACR,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,QAAME,SAAWN,GACjBE,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,YACLJ,UAAU,aACV/E,KAAK,OACL+G,YAAY,kCAEdnC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,sBAAjB,6BACAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,UAAU,QACfC,KAAK,eACLJ,UAAU,gBACV/E,KAAK,SACL+G,YAAY,MACZC,IAAK,EAAGC,IAAK,KACbrC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEK,KAAK,cACLwB,GAAG,cACH3G,KAAK,SAAU+E,UAAU,eAH3B,UAQN,OAAQH,EAAAC,EAAAC,cAAA,gBA7BdgC,EAAA,CAA2BpB,IAAMC,YAyCjC,IAAMuB,EAAYrB,YAAU,CAC1BC,KAAM,QACNd,SAAU,SAACe,EAAQjE,GACjBA,ER7CqB,SAACiE,GAAD,MAAc,CACrC/F,KAFuB,YAGvB+F,UQ2CWoB,CAAUpB,EAAOqB,eAC1BtF,ER7BsC,CACxC9B,KAFwB,aAGxBqH,UQ2BsBtB,EAAOsB,YAC3BvF,ERzC+B,CACjC9B,KAF0B,mBQqCV6F,CAOfiB,GAEYX,cAhBf,SAAyBC,GACvB,MAAO,CACLC,MAAOD,EAAME,MAAMD,MACnBiB,KAAMlB,EAAME,MAAMgB,OAaPnB,CAAyBe,GCrD3BK,EAAb,SAAAxD,GAAA,SAAAwD,IAAA,OAAAvD,OAAAC,EAAA,EAAAD,CAAAE,KAAAqD,GAAAvD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuD,GAAAlD,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAuD,EAAAxD,GAAAC,OAAAQ,EAAA,EAAAR,CAAAuD,EAAA,EAAA9C,IAAA,SAAAf,MAAA,WACW,IAAA8D,EAAAtD,KAEP,OADAvB,QAAQC,IAAI,mBAAqBsB,KAAKS,MAAM5C,aACxCmC,KAAKS,MAAM5C,YAEX6C,EAAAC,EAAAC,cAAA,UACEC,UAAU,cACV4B,GAAG,gBACHc,KAAK,IACLb,QAAS,SAACrE,GAAD,OAAKiF,EAAK7C,MAAM7C,STgCA,CACjC9B,KAF0B,mBS/BkCkE,KAAKS,MAAM5C,aAIjE6C,EAAAC,EAAAC,cAAA,UACEC,UAAU,cACV4B,GAAG,sBACHc,KAAK,IACLb,QAAS,SAACrE,GAAD,OAAKiF,EAAK7C,MAAM7C,STcA,CACjC9B,KAFyB,mBSjBnB,oBAbRuH,EAAA,CAAkC7B,IAAMC,WA6BzBQ,kBANf,SAAyBC,GACvB,MAAO,CACLrE,YAAaqE,EAAMsB,KAAK3F,cAIboE,CAAyBoB,GC3B3BI,UAAb,SAAA5D,GAAA,SAAA4D,IAAA,OAAA3D,OAAAC,EAAA,EAAAD,CAAAE,KAAAyD,GAAA3D,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2D,GAAAtD,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA2D,EAAA5D,GAAAC,OAAAQ,EAAA,EAAAR,CAAA2D,EAAA,EAAAlD,IAAA,SAAAf,MAAA,WACW,IACCgB,EAAiBR,KAAKS,MAAtBD,aACR,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,cACX0C,KAAK,uEADP,iBAEA7C,EAAAC,EAAAC,cAAC8C,EAAD,OAEFhD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YAAYC,SAAUN,IAatCE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAAd,uBAxBV4C,EAAA,CAA4BjC,IAAMC,YA+BnBE,cAAU,CACvBC,KAAM,SACNd,SAAU,SAACe,EAAQjE,GACjBA,EVXwC,CAC1C9B,KAFyB,cAGzB6H,WUSuB9B,EAAO8B,eAHjBhC,CAKZ8B,iBCtCI,SAASG,EAAiBnD,GAC/B,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuB4B,GAAIhC,EAAMgC,IAC9C/B,EAAAC,EAAAC,cAAA,UAAKH,EAAMgC,IACX/B,EAAAC,EAAAC,cAAA,UAAKH,EAAMQ,MACXP,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaJ,EAAMoD,OAK/B,SAASC,EAAWrD,GACzBhC,QAAQC,IAAI+B,EAAMsD,QAClB,IAAIC,EAAO,oBAAApF,OAAuB6B,EAAMsD,QACxC,OACErD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAWmD,EAASC,IAAKxD,EAAMyD,IAAKC,IAAK1D,EAAMQ,QCqE7CgB,kBANf,SAAyBC,GACzB,MAAO,CACLkC,WAAWlC,EAAME,MAAMgB,KAAKiB,MAAM,EAAGnC,EAAME,MAAMc,gBAIpCjB,CAnFR,SAAgBxB,GAYrB,IAAM6D,EATN,WACE,GAAI7D,EAAM2D,WAAWG,OAAO,EAC1B,OACE7D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,gBAMa2D,GACbC,EAAahE,EAAM2D,WAAWM,IAAI,SAACC,GACvC,OACEjE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAaN,IAAKoE,EAAK1D,MACnCP,EAAAC,EAAAC,cAACkD,EAAea,MAMhBC,EACJnE,EAAM2D,WAAWM,IAAI,SAACC,EAAME,GAC1B,OACAnE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmBN,IAAKoE,EAAK1D,MAC3CP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAAhB,kBAAqDgE,EAAM,GAC3DnE,EAAAC,EAAAC,cAACgD,EAAqBe,MAiCpBG,EA3BN,WAOE,GAAIrE,EAAM2D,WAAWG,OAAO,EAC1B,OACE7D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACfH,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAO9E,KAAK,OACZ+E,UAAU,WACVgC,YAAY,mBAaAkC,GAEpB,OACErE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACVyD,EACH5D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACX4D,GAEH/D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACX+D,GAEAE,KCvEIE,UAAb,SAAAnF,GAAA,SAAAmF,IAAA,OAAAlF,OAAAC,EAAA,EAAAD,CAAAE,KAAAgF,GAAAlF,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkF,GAAA7E,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAkF,EAAAnF,GAAAC,OAAAQ,EAAA,EAAAR,CAAAkF,EAAA,EAAAzE,IAAA,SAAAf,MAAA,WACW,IAAA8D,EAAAtD,KACP,OACEU,EAAAC,EAAAC,cAAA,UACIC,UAAU,eACV4B,GAAG,eACHc,KAAK,IACLb,QAAS,SAACrE,GAAD,OAAKiF,EAAK7C,MAAM7C,SbXR,CACzB9B,KAFmB,YaQf,qBAHNkJ,EAAA,CAAiCxD,IAAMC,YAkBxBQ,kBANf,SAAyBC,GACvB,MAAO,CACLrE,YAAaqE,EAAMsB,KAAK3F,cAIboE,CAAyB+C,GCpBjCC,mLAGH,IAAMlH,EAAOiC,KAAKS,MAAM1C,KAKxB,OAAiC,IAA9BiC,KAAKS,MAAMyE,eAEVxE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,UAAK7C,EAAL,uBAIS2C,EAAAC,EAAAC,cAAA,mBAfWY,IAAMC,WA0BrBQ,mBAPf,SAAyBC,GACvB,MAAO,CACLgD,eAAgBhD,EAAME,MAAM8C,eAC5BnH,KAAMmE,EAAMsB,KAAK3F,cAINoE,CAAyBgD,UC1BzB,SAASE,KACxB,OACEzE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACfH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,oDCQK,IAAMuE,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAtF,OAAAC,EAAA,EAAAD,CAAAE,KAAAoF,GAAAtF,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsF,GAAAjF,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAsF,EAAAC,GAAAvF,OAAAQ,EAAA,EAAAR,CAAAsF,EAAA,EAAA7E,IAAA,oBAAAf,MAAA,WAGEQ,KAAKsF,aAHP,CAAA/E,IAAA,WAAAf,MAAA,WAOU,IAAA8D,EAAAtD,KACR,OAAOrB,MAAK,GAAAC,OAAI7C,EAAJ,eACTW,KAAK,SAAAP,GACJ,OAAKA,EAAIC,GAGFD,EAAIM,OAFFG,QAAQC,OAAOV,EAAIc,cAI7BP,KAAK,SAAC6I,GAEL,OADA9G,QAAQC,IAAI6G,GACLjC,EAAK7C,MAAM7C,ShBdW,CACjC9B,KAFsB,WAGtBsH,KgBYwCmC,MAErCpG,MAAM,SAAAxC,GAAG,OACR2G,EAAKkC,SAAS,CACZpG,MAAO,4BArBf,CAAAmB,IAAA,SAAAf,MAAA,WA2BI,OACEkB,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,KACE/E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC8E,EAAD,MACAhF,EAAAC,EAAAC,cAAC+E,EAAD,MACAjF,EAAAC,EAAAC,cAACgF,EAAD,MACAlF,EAAAC,EAAAC,cAACiF,EAAD,MACAnF,EAAAC,EAAAC,cAACkF,EAAD,MACApF,EAAAC,EAAAC,cAACsE,GAAD,MACAxE,EAAAC,EAAAC,cAACuE,GAAD,YApCVC,EAAA,CAAyB3D,aAiDVQ,mBANf,SAAyBC,GACvB,MAAO,CACLkB,KAAMlB,EAAME,MAAMgB,OAIPnB,CAAyBmD,uCClDlCW,GAAUC,EAAQ,KAElBC,GAAe,CACrB/C,aAAc,EACdgD,QAAS,GACT9C,KAAM,CACJ,CACEX,GAAI,IACJxB,KAAM,OACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,QACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,aACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,UACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,UACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,QACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,QACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,UACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,SACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,IACJxB,KAAM,QACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,GAEV,CACEtB,GAAI,KACJxB,KAAM,mBACN4C,KAAM,cACNK,IAAK,wHACLH,OAAQ,KCnFNkC,GAAe,CACnBtI,UAAY,KACZE,YAAa,KACbsI,SAAS,EACT/G,MAAO,MCTT,IAAMgH,GAAmBC,OAAOC,sCAAwCC,KAElEC,GAAcC,aAAgB,CAClC7E,KAAM8E,KACNtE,MFyFyB,WAAgC,IAA/BF,EAA+B9B,UAAAmE,OAAA,QAAA9E,IAAAW,UAAA,GAAAA,UAAA,GAAzB6F,GAAcU,EAAWvG,UAAAmE,OAAA,EAAAnE,UAAA,QAAAX,EACzD,GjBpGmB,UiBoGhBkH,EAAO7K,KACR,OAAOgE,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BC,MAAQ,KACRI,OAAQ,KACRW,aAAc,EACdgC,eAAgB,KAChB/B,UAAW,OAER,GjBjGmB,iBiBiGhBwD,EAAO7K,KAAsB,KACjC+K,EAAUd,GAAQ7D,EAAMkB,MAK5B,OADAyD,EAAQnC,IAAI,SAAAC,GAAI,OAAIA,EAAKZ,OAFhB+C,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAM,MAGxCjH,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BkB,KAAKtD,OAAAmH,GAAA,EAAAnH,CAAK+G,KAEP,GjBrGe,aiBqGZF,EAAO7K,KAAkB,KAC7BoL,EAAenB,GAAQY,EAAOvD,MAKlC,OADA8D,EAAaxC,IAAI,SAAAC,GAAI,OAAIA,EAAKZ,OAFrB+C,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAM,MAGxCjH,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BkB,KAAKtD,OAAAmH,GAAA,EAAAnH,CAAKoH,KAEP,MjBzHgB,ciByHbP,EAAO7K,KACRgE,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BgB,aAAcyD,EAAO9E,OACrBuC,WAAWtE,OAAAmH,GAAA,EAAAnH,CAAKoC,EAAMkB,KAAKiB,MAAM,EAAGsC,EAAO9E,WjB3GvB,eiB6Gd8E,EAAO7K,KACRgE,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiB,UAAWwD,EAAOxD,YjBzGG,gBiB2GfwD,EAAO7K,KACRgE,OAAO8G,OAAO,GAAI1E,EAAO,CAC9ByB,WAAYgD,EAAOhD,ajBvGE,iBiByGfgD,EAAO7K,MACf2C,QAAQC,IAAI,eACO,IAAhBwD,EAAMC,MACArC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BC,OAAO,IAGJrC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BC,OAAO,KjB5GgB,kBiB8GjBwE,EAAO7K,MACf2C,QAAQC,IAAI,qBACTwD,EAAMiF,OACArH,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BK,QAASL,EAAMK,SAGVzC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BK,QAAQ,KjBjHY,iBiBoHhBoE,EAAO7K,MACc,IAAzBoG,EAAMgD,eACDpF,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BgD,gBAAgB,IAGXpF,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BgD,gBAAgB,IAIfhD,GEhKPsB,KDOa,WAA+C,IAA7BtB,EAA6B9B,UAAAmE,OAAA,QAAA9E,IAAAW,UAAA,GAAAA,UAAA,GAArB6F,GAAcU,EAAOvG,UAAAmE,OAAA,EAAAnE,UAAA,QAAAX,EAC5D,OAAIkH,EAAO7K,OAASoB,EACX4C,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BvE,UAAWgJ,EAAOhJ,YAEXgJ,EAAO7K,OAASqB,EAClB2C,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BvE,UAAW,KACXE,YAAa,OAEN8I,EAAO7K,OAASsB,EAClB0C,OAAO8G,OAAO,GAAI1E,EAAM,CAC7BiE,SAAS,EACT/G,MAAO,OAEAuH,EAAO7K,OAASuB,EAClByC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiE,SAAS,EACTtI,YAAa8I,EAAO9I,cAEb8I,EAAO7K,OAASwB,EAClBwC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiE,SAAS,EACT/G,MAAOuH,EAAOvH,QAERuH,EAAO7K,OAASyB,EACjBuC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiE,SAAS,EACT/G,MAAO,OAEDuH,EAAO7K,OAAS0B,EACjBsC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiE,SAAS,EACTD,QAASS,EAAOT,UAEVS,EAAO7K,OAAS2B,EACjBqC,OAAO8G,OAAO,GAAI1E,EAAO,CAC9BiE,SAAS,EACT/G,MAAOuH,EAAOvH,QAGZ8C,KC7COkF,gBAAYZ,GAAaJ,GAAiBiB,aAAgBC,QCFrDC,QACW,cAA7BlB,OAAOmB,SAASC,UAEe,UAA7BpB,OAAOmB,SAASC,UAEhBpB,OAAOmB,SAASC,SAASC,MACvB,2DCTNC,IAASC,OACNlH,EAAAC,EAAAC,cAACiH,EAAA,EAAD,CAAUC,MAAOA,IAChBpH,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,KACE/E,EAAAC,EAAAC,cAACmH,GAAD,QAEUC,SAASC,eAAe,SDmHlC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1L,KAAK,SAAA2L,GACjCA,EAAaC","file":"static/js/main.94230182.chunk.js","sourcesContent":["export const RESET = 'RESET';\nexport const reset = () =>({\n  type: RESET,\n});\n\nexport const TRIM_DECK = 'TRIM_DECK';\nexport const trim_deck = (values)  => ({\n  type:  TRIM_DECK,\n  values\n});\n\nexport const SHUFFLE_DECK = 'SHUFFLE_DECK';\nexport const shuffle_deck = () => ({\n  type: SHUFFLE_DECK,\n});\n\nexport const SET_DECK = 'SET_DECK';\nexport const set_deck = (deck) => ({\n  type: SET_DECK,\n  deck\n});\n\nexport const TAKE_QUERY = 'TAKE_QUERY';\nexport const take_query = (textQuery) => ({\n  type: TAKE_QUERY,\n  textQuery\n});\n\nexport const MAKE_SEARCH = 'MAKE_SEARCH';\nexport const make_search = (searchTerm) => ({\n  type: MAKE_SEARCH,\n  searchTerm\n});\n\nexport const TOGGLE_LOGIN ='TOGGLE_LOGIN';\nexport const toggle_login = () => ({\n  type: TOGGLE_LOGIN\n});\n\nexport const TOGGLE_SIGNIN = 'TOGGLE_SIGNIN';\nexport const toggle_signin = () => ({\n  type: TOGGLE_SIGNIN,\n});\n\nexport const OPEN_HISTORY = 'OPEN_HISTORY';\nexport const open_history = () => ({\n  type: OPEN_HISTORY\n});","export const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';","export const normalizeResponseErrors = res => {\n  if (!res.ok) {\n    if (\n      res.headers.has('content-type') &&\n      res.headers.get('content-type').startsWith('application/json')\n    ){\n      return res.json().then(err=>Promise.reject(err));\n    }\n    return Promise.reject({\n      code: res.status,\n      message: res.statusText\n    });\n  }\n  return res;\n};","import { API_BASE_URL } from '../config.js';\n\nimport jwtDecode from 'jwt-decode';\n\nimport { SubmissionError } from 'redux-form';\nimport { normalizeResponseErrors } from './utils';\n\nimport { saveAuthToken, clearAuthToken } from '../local-storage';\nimport { toggle_login  } from './index.js';\n\nexport const SET_AUTH_TOKEN = 'SET_AUTH_TOKEN';\nexport const setAuthToken = authToken => ({\n    type: SET_AUTH_TOKEN,\n    authToken\n});\n\nexport const CLEAR_AUTH = 'CLEAR_AUTH';\nexport const clearAuth = () => ({\n    type: CLEAR_AUTH\n});\n\nexport const AUTH_REQUEST = 'AUTH_REQUEST';\nexport const authRequest = () => ({\n    type: AUTH_REQUEST\n});\n\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const authSuccess = currentUser => ({\n    type: AUTH_SUCCESS,\n    currentUser\n});\n\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const authError = error => ({\n    type: AUTH_ERROR,\n    error\n});\n\nexport const FETCH_HISTORY_REQUEST = 'FETCH_HISTORY';\nexport const fetchHistoryRequest = () => ({\n  type: FETCH_HISTORY_REQUEST,\n});\n\nexport const FETCH_HISTORY_SUCCESS = 'FETCH_HISTORY_SUCCESS';\nexport const fetchHistorySuccess = history => ({\n  type: FETCH_HISTORY_SUCCESS,\n  history\n});\n\nexport const FETCH_HISTORY_ERROR = 'FETCH_HISTORY_ERROR';\nexport const fetchHistoryError = error => ({\n  type: FETCH_HISTORY_ERROR,\n  error\n});\n\n// Stores the auth token in state and localStorage, and decodes and stores\n// the user data stored in the token\nconst storeAuthInfo = (authToken, dispatch) => {\n  const decodedToken = jwtDecode(authToken);\n  const currentUser = (decodedToken.user.username);\n  dispatch(setAuthToken(authToken));\n  dispatch(authSuccess(currentUser));\n  saveAuthToken(authToken);\n};\n\n// create new user from register component\nexport const CreateUser = (username, password) => (dispatch) => {\n  console.log('createUser ran');\n  return (\n    fetch(`${API_BASE_URL}/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    })\n  )\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(res => {\n    console.log(res);\n    return res;\n  })\n  .catch(err => {\n    const { code } = err;\n    return Promise.reject(\n      new SubmissionError({\n        _error: code\n      })\n    );\n  })\n  \n};\n\nexport const Login = (username, password) => dispatch => {\n  console.log('login ran');\n  dispatch(authRequest());\n  return (\n    fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    })\n    .then(res => normalizeResponseErrors(res))\n    .then(res => res.json())\n    .then(({authToken}) => {\n      console.log(authToken);\n      dispatch(toggle_login());\n      storeAuthInfo(authToken, dispatch)})\n    .catch(err => {\n      const { code } = err;\n      const message =\n        code === 401\n          ? 'Incorrect username or password'\n          : 'Unable to login, please try again';\n      dispatch(authError(err));\n      return Promise.reject(\n        new SubmissionError({\n          _error: message\n        })\n      );\n    })\n  );\n};\n\nexport const refreshAuthToken = () => (dispatch, getState) => {\n  const authToken = getState().auth.authToken;\n  return fetch(`${API_BASE_URL}/auth/refresh`, {\n    method: 'POST',\n    headers: {\n      authorization: `Bearer ${authToken}`\n    }\n  })\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(({authToken}) => storeAuthInfo(authToken, dispatch))\n  .catch(err => {\n    clearAuthToken(authToken);\n  });\n};\n\nexport const addReadingToHistory = () => (dispatch, getState) => {\n  const userId = getState().auth.currentUser;\n  const authToken = getState().auth.authToken;\n  const cards = getState().tarot.spreadNumber;\n  const spread = getState().tarot.deck.slice(0, cards); \n  const query = getState().tarot.textQuery;\n\n  return fetch(`${API_BASE_URL}/auth/${userId}/add`, {\n    method: 'PUT',\n    headers: {\n      authorization: `Bearer ${authToken}`,\n    },\n    body: {\n      comments: '',\n      query,\n      spread,\n      userId:'',\n    }\n  })\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(({authToken}) => storeAuthInfo(authToken, dispatch))\n  .catch(err => {\n    clearAuthToken(authToken);\n  });\n}\n\nexport const fetchHistory = username => dispatch => {\n  dispatch(fetchHistoryRequest());\n  return fetch(`${API_BASE_URL}/auth/${username}/history`)\n    .then( res => {\n      if (!res.ok) {\n        return Promise.reject('Something went wrong');\n      }\n      return res.json();\n    })\n    .then(history => \n      dispatch(fetchHistorySuccess(history.map(history => history.query))))\n    .catch(error => dispatch(fetchHistoryError(error)));\n};","export const loadAuthToken = () => {\n  return localStorage.getItem('authToken');\n};\n\nexport const saveAuthToken = authToken => {\n  try {\n      localStorage.setItem('authToken', authToken);\n  } catch (e) {}\n};\n\nexport const clearAuthToken = () => {\n  try {\n      localStorage.removeItem('authToken');\n  } catch (e) {}\n};","\nexport const required = value => (value ? undefined : 'Required');\nexport const nonEmpty = value =>\n    value.trim() !== '' ? undefined : 'Cannot be empty';\nexport const isTrimmed = value =>\n    value.trim() === value ? undefined : 'Cannot start or end with whitespace';\nexport const length = length => value => {\n    if (length.min && value.length < length.min) {\n        return `Must be at least ${length.min} characters long`;\n    }\n    if (length.max && value.length > length.max) {\n        return `Must be at most ${length.max} characters long`;\n    }\n};\nexport const matches = field => (value, allValues) =>\n    field in allValues && value.trim() === allValues[field].trim()\n        ? undefined\n        : 'Does not match';","import React from 'react';\nimport {Field, reduxForm, focus } from 'redux-form';\nimport { toggle_signin } from '../actions/index.js';\nimport './register.css';\nimport { CreateUser, Login } from '../actions/protected.js';\n\nimport { required, nonEmpty } from '../validators';\nimport { connect } from 'react-redux';\n\n\nexport class Register extends React.Component{\n  render(){\n    let error;\n    const {handleSubmit}=this.props;\n    return (\n      <div className=\"register-container\">\n            <form className=\"form-container\"  \n              onSubmit={handleSubmit}>\n            {error}\n            <label className=\"label\">User Name</label>\n            <Field component=\"input\"\n              name=\"username\"\n              label=\"username\"\n              type=\"text\"\n              className=\"username\"\n              validators={[required, nonEmpty]}\n            /><br />\n            <label className=\"label\">Password</label>\n            <Field component=\"input\"\n              name=\"password\"\n              type=\"password\"\n              className=\"password\"\n              validate={[required, nonEmpty]}\n            /><br />\n            <button name=\"signup-button\"\n              type=\"submit\"\n              className=\"signup-button\"\n              disabled={this.props.pristine || this.props.submitting}\n            >Join</button>\n            </form>\n          </div>\n    );\n  };\n};\n\nconst registerForm = reduxForm({\n  form: 'register',\n  onSubmit: (values, dispatch) => {\n   return dispatch(CreateUser(values.username, values.password))\n   .then(() => dispatch(Login(values.username, values.password)))\n   .then(() => dispatch(toggle_signin()));\n  },\n  onSubmitFail: (errors, dispatch) => dispatch(focus('login', 'username'))\n})(Register);\n\nfunction mapStateToProps(state){\n  return {\n    login: state.tarot.login,\n  };\n}\n\nexport default connect(mapStateToProps)(registerForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport{ Field, reduxForm, focus } from 'redux-form';\nimport { toggle_signin } from '../actions/index.js';\nimport { Login } from '../actions/protected.js';\nimport  Register  from './register.js';\nimport './login.css';\n\nimport { required, nonEmpty } from '../validators';\n\nfunction submit(values, dispatch) {\n  console.log('onSubmit ran');\n  return dispatch(Login(values.username, values.password));\n}\n\nexport class LoginWindow extends React.Component {\n  render() {\n    let error;\n    const {dispatch}=this.props;\n    function signUp(){\n      console.log('signUp ran');\n      dispatch(toggle_signin());\n    }\n    const {handleSubmit}= this.props;\n    if (this.props.error) {\n      error = (\n        <div className=\"form-error\" aria-live=\"polite\">\n          {this.props.error}\n          </div>\n      );\n    }\n    if (this.props.login === true){\n      if (this.props.signIn === true){\n        return (\n          <Register />\n        );\n      } else {\n        return (\n        <div className=\"login-container\">\n          <form \n            className=\"form-container\"  \n            onSubmit={handleSubmit}>\n            {error}\n          <button \n            name=\"newuser-button\"\n            id=\"newuser-button\"\n            type=\"button\"\n            className=\"newuser-button\"\n            onClick={signUp}\n          >Register</button>\n          <label className=\"label\">User Name</label>\n          <Field component=\"input\"\n            name=\"username\"\n            label=\"username\"\n            type=\"text\"\n            className=\"username\"\n            validators={[required, nonEmpty]}\n          /><br />\n          <label className=\"label\">Password</label>\n          <Field component=\"input\"\n            name=\"password\"\n            type=\"password\"\n            className=\"password\"\n            validate={[required, nonEmpty]}\n          /><br />\n          <button \n            name=\"login-button\"\n            id=\"login-button\"\n            type=\"submit\"\n            className=\"login-button\"\n            disabled={this.props.pristine || this.props.submitting}\n          >Sign In</button>\n          </form>\n        </div>\n        );\n      }\n    } else return (<div></div>);\n  }\n}\n\nexport const loginForm = reduxForm({\n  form: 'login',\n  onSubmit: submit,\n  onSubmitFail: (errors, dispatch) => dispatch(focus('login', 'username'))\n  }\n)(LoginWindow);\n\nfunction mapStatetoProps(state){\n  return {\n    login: state.tarot.login,\n    signIn: state.tarot.signIn\n  };\n}\n\nexport default connect(mapStatetoProps)(loginForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport {  shuffle_deck, trim_deck, take_query }  from '../actions/index.js';\nimport './query.css';\n//import store from './store.js';\n\nexport class Query extends React.Component {\n  render () {\n    if (this.props.login !== true){\n      const { handleSubmit } = this.props;\n      return (\n        <div className=\"query-container\">\n          <form onSubmit={ handleSubmit }>\n          <Field component=\"input\"\n            name=\"textQuery\"\n            className=\"text-query\"\n            type=\"text\"\n            placeholder=\"What would you ask the cards?\"\n          />\n          <label className=\"spreadNumber-label\">number of cards to deal: </label>\n          <Field component=\"input\" \n            name=\"spreadNumber\" \n            className=\"spread-number\" \n            type=\"number\" \n            placeholder=\"all\"\n            min={1} max={78}\n          /><br />\n            <button \n              name=\"deal-button\" \n              id=\"deal-button\"\n              type=\"submit\"  className=\"deal-button\">Deal</button>\n          </form>\n        </div>\n      );\n    } else {\n      return (<div></div>);\n    }\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    login: state.tarot.login,\n    deck: state.tarot.deck,\n  };\n}\n\nconst queryForm = reduxForm({\n  form: 'query',\n  onSubmit: (values, dispatch) => { \n    dispatch(trim_deck(values.spreadNumber));\n    dispatch(take_query(values.textQuery));\n    dispatch(shuffle_deck());\n  }\n})(Query);\n\nexport default connect(mapStateToProps)(queryForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { toggle_login, open_history } from '../actions/index.js';\n\nexport class MemberButton extends React.Component {\n  render (){\n    console.log('current user is ' + this.props.currentUser);\n    if (this.props.currentUser){\n      return (\n        <button\n          className=\"header-link\"\n          id=\"custom-button\"\n          href=\"#\" \n          onClick={(e)=>this.props.dispatch(open_history())}>{this.props.currentUser}</button>\n      )\n    } else {\n      return(\n        <button\n          className=\"header-link\"\n          id=\"member-login-button\"\n          href=\"#\" \n          onClick={(e)=>this.props.dispatch(toggle_login())}>Member Login</button>\n      );\n    }\n  }\n} \n\nfunction mapStateToProps(state){\n  return {\n    currentUser: state.auth.currentUser,\n  };\n};\n\nexport default connect(mapStateToProps)(MemberButton);","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport MemberButton from './memberButton.js';\nimport { make_search } from '../actions/index.js';\nimport './header.css';\n\nexport class Header extends React.Component {\n  render() {\n    const { handleSubmit } = this.props;\n    return (\n      <div className=\"header-container\">\n        <header className=\"App-header\">\n          <nav>\n            <a className=\"header-link\"\n              href=\"https://www.publikwerks.com/thelema-tarot-deck/tarot-deck-pre-order\">Purchase Deck</a>\n            <MemberButton />\n          </nav>\n          <form className=\"searchBar\" onSubmit={handleSubmit}>\n            {/* <Field component=\"input\" \n              type=\"text\" \n              name=\"searchTerm\"\n              className=\"search-field\"\n            /><br />\n            <button \n              name=\"search\"\n              id=\"search-button\"\n              type=\"submit\"\n              className=\"search-button\"\n              disabled={this.props.pristine || this.props.submitting}>Search</button> */}\n          </form>\n          <h1 className=\"banner\">FORTUNE CARDS</h1>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default reduxForm({\n  form: 'search',\n  onSubmit: (values, dispatch) => {\n    dispatch(make_search(values.searchTerm));\n  }\n})(Header)","import React from 'react';\n\nimport './card.css';\n\nexport function CardDescriptions(props) {\n  return (\n    <div className=\"card-description-box\" id={props.id}>\n      <h3>{props.id}</h3>\n      <h4>{props.name}</h4>\n      <p className=\"desc-text\">{props.desc}</p>\n    </div>\n  );\n};\n\nexport function CardImages(props){\n  console.log(props.facing);\n  let classes = `card-image rotate${props.facing}`\n  return (\n    <div className=\"card-image-container\">\n        <img className={classes} src={props.img} alt={props.name} />\n    </div>\n  )\n}\n","import React from 'react';\nimport './spread.css';\nimport { connect } from 'react-redux';\nimport {CardImages, CardDescriptions } from './card';\n\nexport function Spread(props) {\n\n  //display heading if cards have been dealt\n  function yourReading(){\n    if (props.cardsDealt.length>0){\n      return (\n        <h2 className=\"reading-heading\">Your Reading</h2>\n      )\n    }\n  }\n\n  //display the card images on top\n  const theHeading = yourReading();\n  const cardImages = props.cardsDealt.map((card)=> {\n    return (\n      <li className=\"card-image\" key={card.name}>\n        <CardImages {...card}/>\n      </li>\n    )\n  });\n\n  // display the card information below\n  const cardDescriptions = \n    props.cardsDealt.map((card, index) => {\n      return(\n      <li className=\"card-description\" key={card.name}>\n      <span className=\"position-indicator\">Card position: {index+1}</span>\n      <CardDescriptions {...card}/>\n    </li>\n      )\n  });\n\n  //display the comment and save form\n  function saveToHistory() {\n    // function handleSubmit(e) {\n    //   e.preventDefault();\n    //   console.log(e);\n    // }\n  \n\n    if (props.cardsDealt.length>0){\n      return (\n        <div className=\"history-form\">\n        <form>\n          <label>Comments:</label>\n          <input type=\"text\"\n          className=\"comments\"\n          placeholder=\"We'll see...\"></input>\n            {/* <button\n            className=\"save-history\"\n            id=\"save-history\"\n            type=\"submit\"\n            onSubmit={handleSubmit}\n            >Save</button> */}\n        </form>\n        </div>\n      )\n    }\n  }\n\n  const historyForm = saveToHistory();\n\n  return (\n    <div className=\"reading-display\">\n        {theHeading}\n      <ul className=\"spread\">\n        {cardImages}\n      </ul>\n      <ul className=\"spread\">\n        {cardDescriptions}\n      </ul>\n        {historyForm}\n    </div>\n  );\n}\n\n// @cardsDealt: deal the appropriate number of cards\nfunction mapStateToProps(state) {\nreturn {\n  cardsDealt:state.tarot.deck.slice(0, state.tarot.spreadNumber)\n};\n};\n\nexport default connect(mapStateToProps)(Spread);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reset } from '../actions/index.js';\nimport './clearButton.css';\n\nexport class ClearButton extends React.Component {\n  render (){\n    return(\n      <button\n          className=\"reset-button\"\n          id=\"reset-button\"\n          href=\"#\" \n          onClick={(e)=>this.props.dispatch(reset())}>Clear Reading</button>\n      );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    currentUser: state.auth.currentUser,\n  };\n};\n\nexport default connect(mapStateToProps)(ClearButton);","import React from 'react';\nimport { connect } from 'react-redux';\n\n class ReadingHistory extends React.Component {\n\n  render(){\n    const user = this.props.user;\n    // const historyBlock = this.props.history.forEach(reading => {\n    //   <p>{this.query}</p>\n    //   <p>{this.createdAt}</p>\n    // })\n    if(this.props.readingHistory === true){\n      return (\n        <div className=\"history-container\">\n          <h2>{user}'s reading history</h2>\n          {/* {historyBlock} */}\n        </div>\n      );\n    } else return (<div></div>)\n  };\n};\n\nfunction mapStateToProps(state){\n  return {\n    readingHistory: state.tarot.readingHistory,\n    user: state.auth.currentUser,\n  }\n}\n\nexport default connect(mapStateToProps)(ReadingHistory)","import React from 'react';\nimport './footer.css';\n\nexport default function Footer(){\nreturn (\n  <div className=\"footer\">\n  <p className=\"copy-info\">All images and text &copy; 2019 Publikwerks, LLC.</p>\n  </div>\n)};","import React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { set_deck } from './actions/index.js';\nimport { API_BASE_URL } from './config.js';\nimport  LoginWindow  from './components/login.js';\nimport  Query  from './components/query.js';\nimport  Header  from './components/header.js';\nimport  Spread  from './components/spread.js';\nimport ClearButton from './components/clearButton.js';\nimport ReadingHistory from './components/readingHistory.js';\nimport Footer from './components/footer.js';\n\nexport class App extends Component {\n\ncomponentDidMount() {\n  this.loadDeck();\n}\n\n// grab a fresh deck from the server\nloadDeck(){\n  return fetch(`${API_BASE_URL}/tarotDeck`)\n    .then(res => {\n      if (!res.ok){\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })   \n    .then((data) => {\n      console.log(data);\n      return this.props.dispatch(set_deck(data))\n    })\n    .catch(err =>\n      this.setState({\n        error: 'could not load deck'\n      })\n    );\n  }\n  \n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <LoginWindow />\n          <Query />\n          <Spread />\n          <ClearButton />\n          <ReadingHistory />\n          <Footer />\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    deck: state.tarot.deck,\n  };\n}\n\nexport default connect(mapStateToProps)(App);","\nimport { \n  RESET,\n  SET_DECK, \n  TRIM_DECK, \n  TAKE_QUERY, \n  MAKE_SEARCH,\n  TOGGLE_LOGIN, \n  OPEN_HISTORY,\n  TOGGLE_SIGNIN,\n  SHUFFLE_DECK,\n} from '../actions/index.js';\n\nconst shuffle = require('shuffle-array');\n\nconst initialState = {\nspreadNumber: 0,\nhistory: [],\ndeck: [\n  {\n    id: '0',\n    name: 'fool',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  }, \n  {\n    id: '1',\n    name: 'magus',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '2',\n    name: 'heirophant',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '3',\n    name: 'empress',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '4',\n    name: 'emperor',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '5',\n    name: 'fifth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '6',\n    name: 'sixth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '7',\n    name: 'seventh',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '8',\n    name: 'eighth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '9',\n    name: 'ninth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '10',\n    name: 'wheel of fortune',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n]\n};\n\nexport const deckReducer = (state=initialState, action) => {\n  if(action.type === RESET){\n    return Object.assign({}, state, {\n      login:  null,\n      signIn: null,\n      spreadNumber: 0,\n      readingHistory: null,\n      textQuery: null,\n    });\n  } else if(action.type === SHUFFLE_DECK){\n    let newDeck = shuffle(state.deck);\n    function direction(){\n      return Math.floor(Math.random() * Math.floor(4));\n    }\n    newDeck.map(card => card.facing = direction());\n    return Object.assign({}, state, {\n      deck: [...newDeck]\n    });\n  } else if(action.type === SET_DECK){\n    let shuffledDeck = shuffle(action.deck);\n    function direction(){\n      return Math.floor(Math.random() * Math.floor(4));\n    }\n    shuffledDeck.map(card => card.facing = direction());\n    return Object.assign({}, state, {\n      deck: [...shuffledDeck]\n    });\n  } else if(action.type === TRIM_DECK){\n    return Object.assign({}, state, {\n      spreadNumber: action.values,\n      cardsDealt: [...state.deck.slice(0, action.values)]\n    });\n  } else if(action.type === TAKE_QUERY){\n    return Object.assign({}, state, {\n      textQuery: action.textQuery\n    });\n  } else if(action.type === MAKE_SEARCH){\n    return Object.assign({}, state, {\n      searchTerm: action.searchTerm\n    });\n  } else if(action.type === TOGGLE_LOGIN){\n    console.log('toggle ran');\n    if(state.login === true){\n      return Object.assign({}, state, {\n        login: false\n      })\n    } else\n    return Object.assign({}, state, {\n      login: true\n    });\n  } else if(action.type === TOGGLE_SIGNIN){\n    console.log('toggle signin ran');\n    if(state.signin){\n      return Object.assign({}, state, {\n        signIn: !state.signIn\n      })\n    } else {\n      return Object.assign({}, state, {\n        signIn: true\n      });\n    }\n  } else if(action.type === OPEN_HISTORY){\n    if (state.readingHistory === true){\n      return Object.assign({}, state, {\n        readingHistory: false,\n      });\n    } else {\n      return Object.assign({}, state, {\n        readingHistory: true,\n      });\n    }\n  };\n  return state;\n};\n","import { \n  SET_AUTH_TOKEN,\n  CLEAR_AUTH,\n  AUTH_REQUEST,\n  AUTH_SUCCESS,\n  AUTH_ERROR,\n  FETCH_HISTORY_ERROR,\n  FETCH_HISTORY_SUCCESS,\n  FETCH_HISTORY_REQUEST,\n} from '../actions/protected.js';\n\nconst initialState = {\n  authToken:  null,\n  currentUser: null,\n  loading: false,\n  error: null\n};\n\nexport default function reducer (state = initialState, action){\n  if (action.type === SET_AUTH_TOKEN){\n    return Object.assign({}, state, {\n      authToken: action.authToken,\n    });\n  } else if (action.type === CLEAR_AUTH){\n    return Object.assign({}, state, {\n      authToken: null,\n      currentUser: null,\n    });\n  } else if (action.type === AUTH_REQUEST){\n    return Object.assign({}, state,{\n      loading: true,\n      error: null,\n    });\n  } else if (action.type === AUTH_SUCCESS){\n    return Object.assign({}, state, {\n      loading: false,\n      currentUser: action.currentUser,\n    });\n  } else if (action.type === AUTH_ERROR){\n    return Object.assign({}, state, {\n      loading: false,\n      error: action.error,\n    });\n  } else if(action.type === FETCH_HISTORY_REQUEST ){\n    return Object.assign({}, state, {\n      loading: true,\n      error: null,\n    });\n  } else if(action.type === FETCH_HISTORY_SUCCESS){\n    return Object.assign({}, state, { \n      loading: false,\n      history: action.history,\n    });\n  } else if(action.type === FETCH_HISTORY_ERROR){\n    return Object.assign({}, state, {\n      loading: false,\n      error: action.error,\n    });\n  }\n return state;\n}\n","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport thunk from 'redux-thunk';\nimport { deckReducer } from '../reducers/index.js';\nimport reducer from '../reducers/auth.js';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  form: formReducer,\n  tarot: deckReducer,\n  auth: reducer,\n});\n//check for localStorage.authToken and login\nexport default createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport store from './components/store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n ( <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>), document.getElementById('root'));\n\nserviceWorker.unregister();"],"sourceRoot":""}