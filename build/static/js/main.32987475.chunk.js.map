{"version":3,"sources":["actions/index.js","config.js","actions/utils.js","local-storage.js","actions/protected.js","validators.js","components/register.js","components/login.js","components/query.js","components/memberButton.js","components/header.js","components/card.js","components/historyForm.js","components/spread.js","components/clearButton.js","components/readingHistory.js","components/footer.js","components/Info.js","App.js","reducers/index.js","reducers/auth.js","components/store.js","serviceWorker.js","index.js"],"names":["reset","type","toggle_signin","API_BASE_URL","process","REACT_APP_API_BASE_URL","normalizeResponseErrors","res","ok","headers","has","get","startsWith","json","then","err","Promise","reject","code","status","message","statusText","clearAuthToken","localStorage","removeItem","e","SET_AUTH_TOKEN","CLEAR_AUTH","clearAuth","AUTH_REQUEST","AUTH_SUCCESS","AUTH_ERROR","FETCH_HISTORY_REQUEST","FETCH_HISTORY_SUCCESS","fetchHistorySuccess","history","FETCH_HISTORY_ERROR","SAVE_HISTORY_REQUEST","saveHistoryRequest","values","SAVE_HISTORY_SUCCESS","saveHistorySuccess","SAVE_HISTORY_ERROR","storeAuthInfo","authToken","dispatch","decodedToken","jwtDecode","currentUser","user","username","userHistory","setAuthToken","authSuccess","setItem","saveAuthToken","Login","password","fetch","concat","method","Content-Type","body","JSON","stringify","_ref","catch","error","SubmissionError","_error","addReadingToHistory","getState","auth","userId","cardsDealt","tarot","comments","query","textQuery","authorization","_ref3","required","value","undefined","nonEmpty","trim","Register","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","handleSubmit","props","react_default","a","createElement","className","onSubmit","Field","component","name","label","validators","validate","disabled","pristine","submitting","React","Component","registerForm","reduxForm","form","onSubmitFail","errors","focus","connect","state","login","LoginWindow","aria-live","signIn","register","id","onClick","loginForm","Query","length","placeholder","min","max","queryForm","trim_deck","spreadNumber","deck","MemberButton","_getPrototypeOf2","_this","_len","args","Array","_key","call","handleLogout","_this2","href","Header","memberButton","searchTerm","CardDescriptions","desc","CardImages","classes","facing","src","img","alt","HistoryForm","console","log","slice","theHeading","yourReading","cardImages","map","card","cardDescriptions","index","historyForm_HistoryForm","ClearButton","resetButton","ReadingHistory","readingHistory","reading","createdAt","Footer","Info","showInfo","App","_Component","loadDeck","data","setState","BrowserRouter","header","components_Info","components_query","clearButton","spread","shuffle","require","initialState","loading","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","formReducer","action","assign","newDeck","Math","floor","random","toConsumableArray","shuffledDeck","signin","createStore","applyMiddleware","thunk","Boolean","location","hostname","match","ReactDOM","render","es","store","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.32987475.chunk.js","sourcesContent":["export const RESET = 'RESET';\nexport const reset = () =>({\n  type: RESET,\n});\n\nexport const TRIM_DECK = 'TRIM_DECK';\nexport const trim_deck = (values)  => ({\n  type:  TRIM_DECK,\n  values\n});\n\nexport const SHUFFLE_DECK = 'SHUFFLE_DECK';\nexport const shuffle_deck = () => ({\n  type: SHUFFLE_DECK,\n});\n\nexport const SET_DECK = 'SET_DECK';\nexport const set_deck = (deck) => ({\n  type: SET_DECK,\n  deck\n});\n\nexport const TAKE_QUERY = 'TAKE_QUERY';\nexport const take_query = (textQuery) => ({\n  type: TAKE_QUERY,\n  textQuery\n});\n\nexport const MAKE_SEARCH = 'MAKE_SEARCH';\nexport const make_search = (searchTerm) => ({\n  type: MAKE_SEARCH,\n  searchTerm\n});\n\nexport const TOGGLE_LOGIN ='TOGGLE_LOGIN';\nexport const toggle_login = () => ({\n  type: TOGGLE_LOGIN\n});\n\nexport const TOGGLE_INFO ='TOGGLE_INFO';\nexport const toggle_info = () => ({\n  type: TOGGLE_INFO\n});\n\nexport const TOGGLE_SIGNIN = 'TOGGLE_SIGNIN';\nexport const toggle_signin = () => ({\n  type: TOGGLE_SIGNIN,\n});\n\nexport const OPEN_HISTORY = 'OPEN_HISTORY';\nexport const open_history = () => ({\n  type: OPEN_HISTORY\n});","export const API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\n//export const API_BASE_URL = 'http://localhost:8080';","export const normalizeResponseErrors = res => {\n  if (!res.ok) {\n    if (\n      res.headers.has('content-type') &&\n      res.headers.get('content-type').startsWith('application/json')\n    ){\n      return res.json().then(err=>Promise.reject(err));\n    }\n    return Promise.reject({\n      code: res.status,\n      message: res.statusText\n    });\n  }\n  return res;\n};","export const loadAuthToken = () => {\n  return localStorage.getItem('authToken');\n};\n\nexport const saveAuthToken = authToken => {\n  try {\n      localStorage.setItem('authToken', authToken);\n  } catch (e) {}\n};\n\nexport const clearAuthToken = () => {\n  try {\n      localStorage.removeItem('authToken');\n  } catch (e) {}\n};","import { API_BASE_URL } from '../config.js';\n\nimport jwtDecode from 'jwt-decode';\n\nimport { SubmissionError } from 'redux-form';\nimport { normalizeResponseErrors } from './utils';\n\nimport { saveAuthToken, clearAuthToken } from '../local-storage';\nimport { toggle_login  } from './index.js';\n\nexport const SET_AUTH_TOKEN = 'SET_AUTH_TOKEN';\nexport const setAuthToken = authToken => ({\n    type: SET_AUTH_TOKEN,\n    authToken\n});\n\nexport const CLEAR_AUTH = 'CLEAR_AUTH';\nexport const clearAuth = () => ({\n    type: CLEAR_AUTH\n});\n\nexport const AUTH_REQUEST = 'AUTH_REQUEST';\nexport const authRequest = () => ({\n    type: AUTH_REQUEST\n});\n\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const authSuccess = currentUser => ({\n    type: AUTH_SUCCESS,\n    currentUser\n});\n\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const authError = error => ({\n    type: AUTH_ERROR,\n    error\n});\n\nexport const FETCH_HISTORY_REQUEST = 'FETCH_HISTORY';\nexport const fetchHistoryRequest = () => ({\n  type: FETCH_HISTORY_REQUEST,\n});\n\nexport const FETCH_HISTORY_SUCCESS = 'FETCH_HISTORY_SUCCESS';\nexport const fetchHistorySuccess = history => ({\n  type: FETCH_HISTORY_SUCCESS,\n  history\n});\n\nexport const FETCH_HISTORY_ERROR = 'FETCH_HISTORY_ERROR';\nexport const fetchHistoryError = error => ({\n  type: FETCH_HISTORY_ERROR,\n  error\n});\n\nexport const SAVE_HISTORY_REQUEST = 'SAVE_HISTORY_REQUEST';\nexport const saveHistoryRequest = (values) => ({\n  type: SAVE_HISTORY_REQUEST,\n  values\n});\n\nexport const SAVE_HISTORY_SUCCESS = 'SAVE_HISTORY_SUCCESS';\nexport const saveHistorySuccess = history => ({\n  type: SAVE_HISTORY_SUCCESS,\n});\n\nexport const SAVE_HISTORY_ERROR = 'SAVE_HISTORY_ERROR';\nexport const saveHistoryError = error => ({\n  type: SAVE_HISTORY_ERROR,\n  error\n});\n\n// Stores the auth token in state and localStorage, and decodes and stores\n// the user data stored in the token\nconst storeAuthInfo = (authToken, dispatch) => {\n  const decodedToken = jwtDecode(authToken);\n  const currentUser = (decodedToken.user.username);\n  const userHistory = (decodedToken.user.history);\n  dispatch(setAuthToken(authToken));\n  dispatch(authSuccess(currentUser));\n  dispatch(fetchHistorySuccess(userHistory));\n  saveAuthToken(authToken);\n};\n\n// create new user from register component\nexport const CreateUser = (username, password) => (dispatch) => {\n  return (\n    fetch(`${API_BASE_URL}/api/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    })\n  )\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(res => {\n    return res;\n  })\n  .catch(err => {\n    const { code } = err;\n    return Promise.reject(\n      new SubmissionError({\n        _error: code\n      })\n    );\n  })\n  \n};\n\nexport const Login = (username, password) => dispatch => {\n  dispatch(authRequest());\n  return (\n    fetch(`${API_BASE_URL}/api/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    })\n    .then(res => normalizeResponseErrors(res))\n    .then(res => res.json())\n    .then(({authToken}) => {\n      dispatch(toggle_login());\n      storeAuthInfo(authToken, dispatch)})\n    .catch(err => {\n      const { code } = err;\n      const message =\n        code === 401\n          ? 'Incorrect username or password'\n          : 'Unable to login, please try again';\n      dispatch(authError(err));\n      return Promise.reject(\n        new SubmissionError({\n          _error: message\n        })\n      );\n    })\n  );\n};\n\nexport const refreshAuthToken = () => (dispatch, getState) => {\n  const authToken = getState().auth.authToken;\n  return fetch(`${API_BASE_URL}/api/auth/refresh`, {\n    method: 'POST',\n    headers: {\n      authorization: `Bearer ${authToken}`\n    }\n  })\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(({authToken}) => storeAuthInfo(authToken, dispatch))\n  .catch(err => {\n    clearAuthToken(authToken);\n  });\n};\n\nexport const addReadingToHistory = (values) => (dispatch, getState) => {\n  const username = getState().auth.currentUser;\n  const userId = getState().auth.currentUser;\n  const authToken = getState().auth.authToken;\n  const cardsDealt = getState().tarot.cardsDealt;\n  const comments = values.comments; \n  const query = getState().tarot.textQuery;\n\n  return fetch(`${API_BASE_URL}/api/auth`, {\n    method: 'PUT',\n    headers: {\n      authorization: `Bearer ${authToken}`,\n    },\n    body: {\n      username,\n      comments,\n      query,\n      cardsDealt,\n      userId,\n    }\n  })\n  .then(res => normalizeResponseErrors(res))\n  .then(res => res.json())\n  .then(({authToken}) => storeAuthInfo(authToken, dispatch))\n  .catch(err => {\n    clearAuthToken(authToken);\n  });\n};\n\nexport const fetchHistory = username => dispatch => {\n  dispatch(fetchHistoryRequest());\n  return fetch(`${API_BASE_URL}/api/auth/?id=${username}/`)\n    .then( res => {\n      if (!res.ok) {\n        return Promise.reject('Something went wrong');\n      }\n      return res.json();\n    })\n    .then(history => \n      dispatch(fetchHistorySuccess(history)))\n    .catch(err => {\n      const { code } = err;\n      return Promise.reject(\n        new SubmissionError({\n          _error: code\n        })\n      );\n    })\n};\n\nexport const saveToHistory = values => {\n  console.log(values);\n};","\nexport const required = value => (value ? undefined : 'Required');\nexport const nonEmpty = value =>\n    value.trim() !== '' ? undefined : 'Cannot be empty';\nexport const isTrimmed = value =>\n    value.trim() === value ? undefined : 'Cannot start or end with whitespace';\nexport const length = length => value => {\n    if (length.min && value.length < length.min) {\n        return `Must be at least ${length.min} characters long`;\n    }\n    if (length.max && value.length > length.max) {\n        return `Must be at most ${length.max} characters long`;\n    }\n};\nexport const matches = field => (value, allValues) =>\n    field in allValues && value.trim() === allValues[field].trim()\n        ? undefined\n        : 'Does not match';","import React from 'react';\nimport {Field, reduxForm, focus } from 'redux-form';\nimport { toggle_signin } from '../actions/index.js';\nimport { CreateUser, Login } from '../actions/protected.js';\n\nimport { required, nonEmpty } from '../validators';\nimport { connect } from 'react-redux';\n\n\nexport class Register extends React.Component{\n  render(){\n    let error;\n    const {handleSubmit}=this.props;\n    return (\n      <div className=\"register-container\">\n            <form className=\"form-container\"  \n              onSubmit={handleSubmit}>\n            {error}\n            <label className=\"label\">User Name</label>\n            <Field component=\"input\"\n              name=\"username\"\n              label=\"username\"\n              type=\"text\"\n              className=\"username\"\n              validators={[required, nonEmpty]}\n            /><br />\n            <label className=\"label\">Password</label>\n            <Field component=\"input\"\n              name=\"password\"\n              type=\"password\"\n              className=\"password\"\n              validate={[required, nonEmpty]}\n            /><br />\n            <button name=\"signup-button\"\n              type=\"submit\"\n              className=\"signup-button\"\n              disabled={this.props.pristine || this.props.submitting}\n            >Join</button>\n            </form>\n          </div>\n    );\n  };\n};\n\nconst registerForm = reduxForm({\n  form: 'register',\n  onSubmit: (values, dispatch) => {\n   return dispatch(CreateUser(values.username, values.password))\n   .then(() => dispatch(Login(values.username, values.password)))\n   .then(() => dispatch(toggle_signin()));\n  },\n  onSubmitFail: (errors, dispatch) => dispatch(focus('login', 'username'))\n})(Register);\n\nfunction mapStateToProps(state){\n  return {\n    login: state.tarot.login,\n  };\n}\n\nexport default connect(mapStateToProps)(registerForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport{ Field, reduxForm, focus } from 'redux-form';\nimport { toggle_signin } from '../actions/index.js';\nimport { Login } from '../actions/protected.js';\nimport  Register  from './register.js';\n\nimport { required, nonEmpty } from '../validators';\n\nfunction submit(values, dispatch) {\n  return dispatch(Login(values.username, values.password));\n}\n\nexport class LoginWindow extends React.Component {\n  render() {\n    let error;\n    const {dispatch}=this.props;\n    function signUp(){\n      dispatch(toggle_signin());\n    }\n    const {handleSubmit}= this.props;\n    if (this.props.error) {\n      error = (\n        <div className=\"form-error\" aria-live=\"polite\">\n          {this.props.error}\n          </div>\n      );\n    }\n    if (this.props.login === true){\n      if (this.props.signIn === true){\n        return (\n          <Register />\n        );\n      } else {\n        return (\n        <div className=\"login-container\">\n          <form \n            className=\"form-container\"  \n            onSubmit={handleSubmit}>\n            {error}\n          <button \n            name=\"newuser-button\"\n            id=\"newuser-button\"\n            type=\"button\"\n            className=\"newuser-button\"\n            onClick={signUp}\n          >Register</button>\n          <label className=\"label\">User Name</label>\n          <Field component=\"input\"\n            name=\"username\"\n            label=\"username\"\n            type=\"text\"\n            className=\"username\"\n            validators={[required, nonEmpty]}\n          /><br />\n          <label className=\"label\">Password</label>\n          <Field component=\"input\"\n            name=\"password\"\n            type=\"password\"\n            className=\"password\"\n            validate={[required, nonEmpty]}\n          /><br />\n          <button \n            name=\"login-button\"\n            id=\"login-button\"\n            type=\"submit\"\n            className=\"login-button\"\n            disabled={this.props.pristine || this.props.submitting}\n          >Sign In</button>\n          </form>\n        </div>\n        );\n      }\n    } else return (<div></div>);\n  }\n}\n\nexport const loginForm = reduxForm({\n  form: 'login',\n  onSubmit: submit,\n  onSubmitFail: (errors, dispatch) => dispatch(focus('login', 'username'))\n  }\n)(LoginWindow);\n\nfunction mapStatetoProps(state){\n  return {\n    login: state.tarot.login,\n    signIn: state.tarot.signIn\n  };\n}\n\nexport default connect(mapStatetoProps)(loginForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport {  shuffle_deck, trim_deck, take_query }  from '../actions/index.js';\n\nexport class Query extends React.Component {\n  render () {\n    if (this.props.login !== true && this.props.cardsDealt.length>0){\n      return (\n        <section className=\"query-container\">\n          <h3>Your query:</h3>\n          <p className=\"display-query\">{this.props.textQuery}</p>\n        </section>\n      )\n    } else \n    if (this.props.login !== true){\n      const { handleSubmit } = this.props;\n      return (\n        <section className=\"query-container\">\n          <form onSubmit={ handleSubmit }>\n          <Field component=\"input\"\n            name=\"textQuery\"\n            className=\"text-query\"\n            type=\"text\"\n            placeholder=\"Ask a question.\"\n          />\n          <label className=\"spreadNumber-label\">number of cards to deal: </label>\n          <Field component=\"input\" \n            name=\"spreadNumber\" \n            className=\"spread-number\" \n            type=\"number\" \n            placeholder=\"all\"\n            min={1} max={78}\n          /><br />\n            <button \n              name=\"deal-button\" \n              id=\"deal-button\"\n              type=\"submit\"  className=\"deal-button\">Deal</button>\n          </form>\n        </section>\n      );\n    } else {\n      return (<div></div>);\n    }\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    login: state.tarot.login,\n    deck: state.tarot.deck,\n    cardsDealt: state.tarot.cardsDealt,\n    textQuery: state.tarot.textQuery,\n  };\n}\n\nconst queryForm = reduxForm({\n  form: 'query',\n  onSubmit: (values, dispatch) => { \n    dispatch(trim_deck(values.spreadNumber));\n    dispatch(take_query(values.textQuery));\n    dispatch(shuffle_deck());\n  }\n})(Query);\n\nexport default connect(mapStateToProps)(queryForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { toggle_login, open_history } from '../actions/index.js';\nimport { clearAuth } from '../actions/protected';\nimport { reset } from '../actions/index';\n\nexport class MemberButton extends React.Component {\n\n  handleLogout = () => {\n      this.props.dispatch(clearAuth());\n      this.props.dispatch(reset())\n  }\n  render (){\n    if (this.props.currentUser){\n      return (<div>\n          <button\n            className=\"header-link\"\n            id=\"custom-button\"\n            href=\"#\" \n            onClick={(e)=>this.props.dispatch(open_history())}>{this.props.currentUser}</button>\n          <button\n            className=\"header-link\"\n            id=\"logout-button\"\n            href=\"#\" \n            onClick={(e)=>this.handleLogout(e)}>logout</button>\n        </div>\n      )\n    } else {\n      return(\n        <button\n          className=\"header-link\"\n          id=\"member-login-button\"\n          href=\"#\" \n          onClick={(e)=>this.props.dispatch(toggle_login())}>Member Login</button>\n      );\n    }\n  }\n} \n\nfunction mapStateToProps(state){\n  return {\n    currentUser: state.auth.currentUser,\n  };\n};\n\nexport default connect(mapStateToProps)(MemberButton);","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport MemberButton from './memberButton.js';\nimport { make_search } from '../actions/index.js';\n\nexport class Header extends React.Component {\n  render() {\n    const { handleSubmit } = this.props;\n    return (\n      <div className=\"header-container\">\n        <header className=\"App-header\">\n          <nav>\n            <a className=\"header-link purchase-link\"\n              href=\"https://www.publikwerks.com/thelema-tarot-deck/tarot-deck-pre-order\">Purchase Deck</a>\n            <MemberButton />\n          </nav>\n          <form className=\"searchBar\" onSubmit={handleSubmit}>\n            {/* <Field component=\"input\" \n              type=\"text\" \n              name=\"searchTerm\"\n              className=\"search-field\"\n            /><br />\n            <button \n              name=\"search\"\n              id=\"search-button\"\n              type=\"submit\"\n              className=\"search-button\"\n              disabled={this.props.pristine || this.props.submitting}>Search</button> */}\n          </form>\n          <h1 className=\"banner\">FORTUNE CARDS</h1>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default reduxForm({\n  form: 'search',\n  onSubmit: (values, dispatch) => {\n    dispatch(make_search(values.searchTerm));\n  }\n})(Header)","import React from 'react';\n\nexport function CardDescriptions(props) {\n  return (\n    <div className=\"card-description-box\" id={props.id}>\n      <h3>{props.id}</h3>\n      <h4>{props.name}</h4>\n      <p className=\"desc-text\">{props.desc}</p>\n    </div>\n  );\n};\n\nexport function CardImages(props){\n  let classes = `card-image card-itself rotate${props.facing}`\n  return (\n    <div className=\"card-image-container\">\n        <img className={classes} src={props.img} alt={props.name} />\n    </div>\n  )\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm } from 'redux-form';\nimport { saveHistorySuccess, saveHistoryRequest, addReadingToHistory } from '../actions/protected.js';\n\nfunction submit(values, dispatch){\n  console.log(values);\n  dispatch(saveHistoryRequest());\n  dispatch(addReadingToHistory(values))\n  .then(dispatch(saveHistorySuccess()));\n}\n\nexport class HistoryForm extends React.Component {\n  render(){\n    console.log(this.props);\n    console.log(this.props.currentUser);\n    console.log(this.props.cardsDealt);\n    let error; \n    if (this.props.error) {\n      error = (\n        <div className=\"form-error\" aria-live=\"polite\">\n          {this.props.error}\n          </div>\n      );\n    }\n    let historyForm=<div></div>;\n    const { handleSubmit }=this.props;\n    //display the comment and save form\n    if (this.props.cardsDealt){\n      console.log('cards Dealt');\n      if (this.props.currentUser === null){\n        historyForm =<div>\n        <h3>Sign in to save your readings!</h3>\n      </div>\n      } else {\n        historyForm =<div className=\"history-form\">\n          <form\n            className=\"history-form\" \n            onSubmit= { handleSubmit }>\n            {error}\n            <label>Comments:</label>\n            <Field component=\"input\"\n              name=\"comments\"\n              type=\"text\"\n              className=\"comments\"\n              placeholder=\"We'll see...\"\n            />\n            <button\n                name=\"saveHistory\"\n                className=\"save-history\"\n                id=\"save-history\"\n                type=\"submit\"\n              >Save</button>\n            </form>\n          </div>\n        }\n      } else {\n        return <div></div>\n      }\n  return historyForm;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(state);\n  return {\n    cardsDealt:state.tarot.cardsDealt,\n    currentUser:state.auth.currentUser,\n  };\n}\n\nHistoryForm  = reduxForm({\n  form: 'save',\n  onSubmit: submit,\n})(HistoryForm);\n\nexport default connect(mapStateToProps)(HistoryForm);","import React from 'react';\nimport { connect } from 'react-redux';\nimport {CardImages, CardDescriptions } from './card';\nimport { HistoryForm } from './historyForm.js';\n\nexport function Spread(props) {\n  //display heading if cards have been dealt\n  function yourReading(){\n    if (props.cardsDealt.length>0){\n      return (\n        <div>\n          <h2 className=\"reading-heading\">Your Reading</h2>\n        </div>\n      )\n    }\n  }\n\n  //display the card images on top\n  const theHeading = yourReading();\n  const cardImages = props.cardsDealt.map((card)=> {\n    return (\n      <li className=\"card-image\" key={card.name}>\n        <CardImages {...card}/>\n      </li>\n    )\n  });\n\n  // display the card information below\n  const cardDescriptions = \n    props.cardsDealt.map((card, index) => {\n      return(\n      <li className=\"card-description\" key={card.name}>\n      <span className=\"position-indicator\">Card position: {index+1}</span>\n      <CardDescriptions {...card}/>\n    </li>\n      )\n  });\n\n  return (\n    <section className=\"reading-display\">\n        {theHeading}\n      <ul className=\"spread\">\n        {cardImages}\n      </ul>\n      <ul className=\"spread\">\n        {cardDescriptions}\n      </ul>\n        <HistoryForm />\n    </section>\n  );\n}\n\n// @cardsDealt: deal the appropriate number of cards\nfunction mapStateToProps(state) {\n  return {\n    cardsDealt:state.tarot.deck.slice(0, state.tarot.spreadNumber),\n    currentUser:state.auth.currentUser,\n  };\n};\n\nexport default connect(mapStateToProps)(Spread);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reset } from '../actions/index.js';\n\nexport class ClearButton extends React.Component {\n  render (){\n    let resetButton = <div></div>;\n    if (this.props.cardsDealt){  \n      if (this.props.cardsDealt.length > 0 ){\n        resetButton = <button\n        className=\"reset-button\"\n        id=\"reset-button\"\n        href=\"#\" \n        onClick={(e)=>this.props.dispatch(reset())}\n        >Clear Reading</button>\n      }\n    }\n    return(\n      resetButton\n      );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    cardsDealt: state.tarot.cardsDealt,\n  };\n};\n\nexport default connect(mapStateToProps)(ClearButton);","import React from 'react';\nimport { connect } from 'react-redux';\n\n class ReadingHistory extends React.Component {\n\n  render(){\n    const user = this.props.user;\n\n    const HistoryBlock = () => {\n      if (this.props.history.length > 0){ \n        return this.props.history.map((reading, index) => {\n            return (<div id={index}>\n              <p>Q: {reading.query}</p>\n              <p>Date: {reading.createdAt}</p>\n            </div>)\n        });\n        }\n       else return<div></div>\n    };\n\n    if(this.props.readingHistory === true){\n      return (\n        <section className=\"history-container\">\n          <h2>{user}'s reading history</h2>\n          <HistoryBlock />\n        </section>\n      );\n    } else return (<div></div>)\n  };\n};\n\nfunction mapStateToProps(state){\n  return {\n    readingHistory: state.tarot.readingHistory,\n    user: state.auth.currentUser,\n    history: state.auth.history,\n  }\n}\n\nexport default connect(mapStateToProps)(ReadingHistory)","import React from 'react';\n\nexport default function Footer(){\nreturn (\n  <footer className=\"footer\">\n    <p className=\"copy-info\">All images and text &copy; 2019 Publikwerks, LLC.</p>\n  </footer>\n)};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { toggle_info } from '../actions/index.js';\n\nexport class Info extends React.Component{\n\n  handleClick() {\n    this.props.dispatch(toggle_info())\n  }\n\n  render () {\n    let infoBlock;\n    if(this.props.showInfo === false){\n      infoBlock =<div></div>\n    } else {\n      infoBlock = <aside>\n          <section className=\"landing-modal\">\n          <button\n            className=\"hide-info\"\n            id=\"hide-info\"\n            href=\"#\"\n            onClick={(e)=>this.props.dispatch(toggle_info())}\n            >hide info</button>\n            <h3>\n              DO WHAT THOU WILL SHALL BE THE WHOLE OF THE LAW.\n            </h3> \n            <p> Science, historically adversarial towards Mysticism, is now finding common ground between the two. Through the phenomenon known as Nonlocal Entanglement Physicists now know that all things are connected outside of time and space. \n            Even a small change in one part of the Universe instantly affects every other part of the Universe, and it happens on a level Science can’t explain. The best it  can do is say that every place is connected, every place is right here, and every time is happening at once. The past, the present, and the future are all being created at the same time, right now.\n            Mystics have long known that everything is connected. They’ve said, “As above, so below,” and that “the Microcosm reflects the Macrocosm, and the Macrocosm reflects the Microcosm.” Within the smallest part of any thing is a bit of the Infinte. This idea of the Whole represented in the Part is the basic theory behind Entanglement and Divination, both. \n            If one has an accurate enough model of the Universe, they may periodically consult it to understand the bigger picture. The Tarot is a proven model for the examination of these patterns.\n            </p>\n            <h3>\n              love is the law. love under WILL.\n            </h3>\n          </section>\n  </aside>\n    }\n    return (\n      infoBlock\n    );\n  }\n} \n\nfunction mapStateToProps(state){\n  return{\n    showInfo: state.tarot.showInfo,\n  }\n}\n\nexport default connect(mapStateToProps)(Info);","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { set_deck } from './actions/index.js';\nimport { API_BASE_URL } from './config.js';\nimport  LoginWindow  from './components/login.js';\nimport  Query  from './components/query.js';\nimport  Header  from './components/header.js';\nimport  Spread  from './components/spread.js';\nimport ClearButton from './components/clearButton.js';\nimport ReadingHistory from './components/readingHistory.js';\nimport Footer from './components/footer.js';\nimport Info from './components/Info';\n\nexport class App extends Component {\n\ncomponentDidMount() {\n  this.loadDeck();\n}\n\n// grab a fresh deck from the server\nloadDeck(){\n  return fetch(`${API_BASE_URL}/api/tarotDeck`)\n    .then(res => {\n      if (!res.ok){\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })   \n    .then((data) => {\n      return this.props.dispatch(set_deck(data))\n    })\n    .catch(err =>\n      this.setState({\n        error: 'could not load deck'\n      })\n    );\n  }\n  \n  render() {\n    return (\n      <Router>\n        <main className=\"App\">\n          <Header />\n          <LoginWindow />\n          <Info />\n          <Query />\n          <ClearButton />\n          <Spread />\n          <ClearButton />\n          <ReadingHistory />\n          <Footer />\n        </main>\n      </Router>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    deck: state.tarot.deck,\n  };\n}\n\nexport default connect(mapStateToProps)(App);","\nimport { \n  RESET,\n  SET_DECK, \n  TRIM_DECK, \n  TAKE_QUERY, \n  MAKE_SEARCH,\n  TOGGLE_LOGIN, \n  OPEN_HISTORY,\n  TOGGLE_SIGNIN,\n  SHUFFLE_DECK,\n  TOGGLE_INFO,\n} from '../actions/index.js';\n\nconst shuffle = require('shuffle-array');\n\nconst initialState = {\nspreadNumber: 0,\ncardsDealt: 0,\nhistory: [],\ndeck: [\n  {\n    id: '0',\n    name: 'fool',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  }, \n  {\n    id: '1',\n    name: 'magus',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '2',\n    name: 'heirophant',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '3',\n    name: 'empress',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '4',\n    name: 'emperor',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '5',\n    name: 'fifth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '6',\n    name: 'sixth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '7',\n    name: 'seventh',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '8',\n    name: 'eighth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '9',\n    name: 'ninth',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n  {\n    id: '10',\n    name: 'wheel of fortune',\n    desc: 'lorem ipsum',\n    img: 'https://static1.squarespace.com/static/590185441b10e3a0176bb2bf/t/599f4e967131a550b1edabed/1530126054227/?format=500w',\n    facing: 0,\n  },\n]\n};\n\nexport const deckReducer = (state=initialState, action) => {\n  if(action.type === RESET){\n    return Object.assign({}, state, {\n      spreadNumber: 0,\n      textQuery: null,\n      cardsDealt: 0,\n    });\n  } else if(action.type === SHUFFLE_DECK){\n    let newDeck = shuffle(state.deck);\n    function direction(){\n      return Math.floor(Math.random() * Math.floor(4));\n    }\n    newDeck.map(card => card.facing = direction());\n    return Object.assign({}, state, {\n      deck: [...newDeck]\n    });\n  } else if(action.type === SET_DECK){\n    let shuffledDeck = shuffle(action.deck);\n    function direction(){\n      return Math.floor(Math.random() * Math.floor(4));\n    }\n    shuffledDeck.map(card => card.facing = direction());\n    return Object.assign({}, state, {\n      deck: [...shuffledDeck]\n    });\n  } else if(action.type === TRIM_DECK){\n    return Object.assign({}, state, {\n      spreadNumber: action.values,\n      cardsDealt: [...state.deck.slice(0, action.values)]\n    });\n  } else if(action.type === TAKE_QUERY){\n    return Object.assign({}, state, {\n      textQuery: action.textQuery\n    });\n  } else if(action.type === MAKE_SEARCH){\n    return Object.assign({}, state, {\n      searchTerm: action.searchTerm\n    });\n  } else if(action.type === TOGGLE_LOGIN){\n    if(state.login === true){\n      return Object.assign({}, state, {\n        login: false\n      })\n    } else\n    return Object.assign({}, state, {\n      login: true\n    });\n  } else if(action.type === TOGGLE_SIGNIN){\n    if(state.signin){\n      return Object.assign({}, state, {\n        signIn: !state.signIn\n      })\n    } else {\n      return Object.assign({}, state, {\n        signIn: true\n      });\n    }\n  } else if(action.type === OPEN_HISTORY){\n    if (state.readingHistory === true){\n      return Object.assign({}, state, {\n        readingHistory: false,\n      });\n    } else {\n      return Object.assign({}, state, {\n        readingHistory: true,\n      });\n    }\n  } else if(action.type === TOGGLE_INFO){\n    if (state.showInfo === false){\n      return Object.assign({}, state, {\n        showInfo: true,\n      })\n    } else {\n      return Object.assign({}, state, {\n        showInfo: false,\n      })\n    }\n  };\n  return state;\n};\n","import { \n  SET_AUTH_TOKEN,\n  CLEAR_AUTH,\n  AUTH_REQUEST,\n  AUTH_SUCCESS,\n  AUTH_ERROR,\n  FETCH_HISTORY_ERROR,\n  FETCH_HISTORY_SUCCESS,\n  FETCH_HISTORY_REQUEST,\n  SAVE_HISTORY_ERROR,\n  SAVE_HISTORY_SUCCESS,\n  SAVE_HISTORY_REQUEST,\n} from '../actions/protected.js';\n\nconst initialState = {\n  authToken:  null,\n  currentUser: null,\n  error: null,\n  loading: false,\n};\n\nexport default function reducer (state = initialState, action){\n  if (action.type === SET_AUTH_TOKEN){\n    return Object.assign({}, state, {\n      authToken: action.authToken,\n    });\n  } else if (action.type === CLEAR_AUTH){\n    return Object.assign({}, state, {\n      authToken: null,\n      currentUser: null,\n    });\n  } else if (action.type === AUTH_REQUEST){\n    return Object.assign({}, state,{\n      loading: true,\n      error: null,\n    });\n  } else if (action.type === AUTH_SUCCESS){\n    return Object.assign({}, state, {\n      loading: false,\n      currentUser: action.currentUser,\n     // history: action.history,\n    });\n  } else if (action.type === AUTH_ERROR){\n    return Object.assign({}, state, {\n      loading: false,\n      error: action.error,\n    });\n  } else if(action.type === FETCH_HISTORY_REQUEST ){\n    return Object.assign({}, state, {\n      loading: true,\n      error: null,\n    });\n  } else if(action.type === FETCH_HISTORY_SUCCESS){\n    return Object.assign({}, state, { \n      loading: false,\n      history: action.history,\n    });\n  } else if(action.type === FETCH_HISTORY_ERROR){\n    return Object.assign({}, state, {\n      loading: false,\n      error: action.error,\n    });\n  } else if(action.type === SAVE_HISTORY_REQUEST ){\n    console.log('savehistoryrequest ran');\n    return Object.assign({}, state, {\n      loading: true,\n      error: null,\n      comments: action.values.comments,\n    });\n  } else if(action.type === SAVE_HISTORY_SUCCESS){\n    console.log('savehistorysuccess ran');\n    return Object.assign({}, state, { \n      loading: false,\n    });\n  } else if(action.type === SAVE_HISTORY_ERROR){\n    return Object.assign({}, state, {\n      loading: false,\n      error: action.error,\n    });\n  }\n return state;\n}\n","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport thunk from 'redux-thunk';\nimport { deckReducer } from '../reducers/index.js';\nimport reducer from '../reducers/auth.js';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  form: formReducer,\n  tarot: deckReducer,\n  auth: reducer,\n});\n//check for localStorage.authToken and login\nexport default createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport store from './components/store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n ( <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>), document.getElementById('root'));\n\nserviceWorker.unregister();"],"sourceRoot":""}